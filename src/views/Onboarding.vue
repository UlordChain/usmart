<template>
    <section>

        <section v-if="step == 0">
            <section class="white-bg" style="padding:40px 20px;padding-bottom:10px;font-family:SimHei;font-size:12px !important;line-height:none">
                <figure class="title">《Usmart隐私政策》</figure>
                <!-- <figure class="breaker"></figure> -->
                <figure class="description">
                    
<div style="overflow-y: scroll;max-height:290px;">
<p>尊敬的用户：</p>
<p>
Ulord Foundation （以下简称 “我们”）尊重并保护用户（以下简称“您”或“用户”）的隐私，您使用Usmart 时， 我们将按照本隐私政策（以下简称“本政策”）收集、使用您的个人信息。
 
我们建议您在使用本产品（以下简称“Usmart”）之前仔细阅读并理解本政策全部内容 , 针对免责声明等条款在内的重要信息将以加粗的形式体现。本政策有关关键词定义与Ulord Foundation《Usmart用户服务协议》保持一致。
 
本政策可由Ulord Foundation在线随时更新，更新后的政策一旦公布即代替原来的政策，如果您不接受修改后的条款，请立即停止使用Usmart，您继续使用 Usmart将被视为接受修改后的政策。经修改的政策一经在Usmart上公布，立即自动生效。
 
您知悉本政策及其他有关规定适用于Usmart及Usmart上Ulord Foundation 所自主拥有的DApp或App 。
</p> 
 <p>
1. 我们收集您的哪些信息
 </p>
 <p>
请您知悉，我们收集您的以下信息是出于满足您在Usmart服务需要的目的，且我们十分重视对您隐私的保护。在我们收集您的信息时，将严格遵守“合法、正当、必要”的原则。且您知悉，若您不提供我们服务所需的相关信息，您在Usmart的服务体验可能因此而受到影响。
 </p>
 <p>
1.1 您授权我们收集并保存您的以下个人信息：
 </p>
 <p>
• 身份识别信息，包括但不限于您的姓名、身份证明、联系地址、电话号码、生物特征信息。
  </p>
 <p>
• 平台操作信息，包括但不限于您的IP 地址、设备型号、设备标识符、操作系统版本信息。
  </p>
 <p>
• 支付信息，包括但不限于您的支付时间、支付金额、支付工具、账户等信息。
  </p>
 <p>
• 个人信用信息，包括但不限于关于您的任何信用状况、信用分、信用报告信息。
  </p>
 <p>
• 其他根据我们具体产品及服务的需要而收集的您的个人信息，包括但不限于您对我们及我们的产品或服务的意见、建议、您曾经使用或经常使用的移动应用软件以及使用场景和使用习惯等信息。
 <p>
1.2 保护用户隐私是本公司的一项基本政策，未经您事先同意，Usmart不会将您的个人信息向任何第三方共享或转让，但以下情况除外：
  </p>
 <p>
（1）事先获得您明确的同意或授权；
  </p>
 <p>
（2）所收集的个人信息是您自行向社会公众公开的；
  </p>
 <p>
（3）所收集的个人信息系从合法公开披露的信息中收集，如合法的新闻报道，政府信息公开等渠道；
  </p>
 <p>
（4）与Usmart 的关联方共享，我们只会共享必要的用户信息，且受本隐私条款中所声明的目的的约束；
  </p>
 <p>
（5）根据所在国家适用的法律法规、法律程序的要求、行政机关或司法机关的要求进行提供；
  </p>
 <p>
（6）在涉及合并、收购时，如涉及到个人信息转让，Usmart将要求个人信息接收方继续接受本政策的约束；
  </p>
 <p>
（7）我们有理由认为您违反了本协议的某一（些）条款而给Usmart 或第三方造成损害时；
 </p>
 <p>
1.3 我们收集信息的方式如下：
  </p>
 <p>
（1）您向我们提供信息。例如，您在“个人中心”页面中填写姓名、手机号码或银行卡号，或在反馈问题时提供邮件地址，或在使用我们的特定服务时，您额外向我们提供；
  </p>
 <p>
（2）我们在您使用Usmart的过程中获取信息，包括您移动设备信息以及您对Usmart的操作记录等信息；
  </p>
 <p>
（3）我们通过区块链系统，拷贝您全部或部分的交易记录。但交易记录以区块链系统的记载为准；
 </p>
 <p>
2. 我们如何使用您的信息
 </p>
 <p>
2.1 我们通过您移动设备的唯一指纹，确认您与您的钱包的对应关系。
 </p>
 <p>
2.2 我们将向您及时发送重要通知，如软件更新、服务协议及本政策条款的变更。
 </p>
 <p>
2.3 我们在Usmart的“系统设置”中为您提供多种登录方式选项，让您方便且更安全地管理您的数字资产。
 </p>
 <p>
2.4 我们通过收集您公开的钱包地址和提供的移动设备信息来处理您向我们提交的反馈。
 </p>
 <p>
2.5 我们收集您的个人信息进行Ulord Foundation 内部审计、数据分析和研究等，以期不断 提升我们的服务水平。
 </p>
 <p>
2.6 依照《Usmart服务协议》及 Ulord Foundation 其他有关规定， Ulord Foundation 将利用用户信息对用户的使用行为进行管理及处理。
 </p>
 <p>
2.7 法律法规规定及与监管机构配合的要求。
 </p>

<p>
3. 您如何控制自己的信息
 </p>
 <p>
您在Usmart中拥有以下对您个人信息自主控制权：
 </p>
 <p>
3.1 您可以通过同步钱包的方式，将您的其他钱包导入Usmart中，或者将您在Usmart的钱包导入到其他数字资产管理钱包中。Usmart将向您显示导入钱包的信息。
  </p>
 <p>
3.2 您知悉您可以通过“资产”版块内容修改您的数字资产种类、进行转账及收款等活动。
  </p>
 <p>
3.3 您知悉在Usmart“我的”的版块您可以自由选择进行如下操作：
  </p>
 <p>
（1）在“个人中心”中，您并不需要提供自己的姓名、手机号码、银行卡等信息，但当您使用特定服务时，您需要提供以上信息；
  </p>
 <p>
（2）在“提交反馈”中，您可以随时向我们提出您对Usmart问题及改进建议，我们将非常乐意与您沟通并积极改进我们的服务；
  </p>
 <p>
3.4 您知悉当我们出于特定目的向您收集信息时，我们会提前给予您通知，您有权选择拒绝。但同时您知悉，当您选择拒绝提供有关信息时，即表示您放弃使用Usmart 的有关服务。
  </p>
 <p>
3.5 您知悉，您及我们对于您交易记录是否公开并没有控制权，因为基于区块链交易系统的开源属性，您的交易记录在整个区块链系统中公开透明。
  </p>
 <p>
3.6 您知悉当您使用Usmart的功能跳转至第三方 DApp之后，我们的《Usmart服务协议》、《 Usmart 隐私政策》将不再适用，针对您在第三方DApp上对您个人信息的控制权问题，我们建议您在使用第三方DApp 之前详细阅读并了解其隐私规则和有关用户服务协议等内容。
  </p>
 <p>
3.7 您有权要求我们更新、更改、删除您的有关信息。
  </p>
 <p>
3.8 您知悉我们可以根据本政策1.2 款的要求收集您的信息而无需获得您的授权同意。
 </p>
 <p>
4. 我们可能分享或传输您的信息
 </p>
 <p>
4.1 未经您事先同意，Ulord Foundation不会将您的个人信息向任何第三方共享或转让，但以下情况除外：
  </p>
 <p>
（1）事先获得您明确的同意或授权；
  </p>
 <p>
（2）所收集的个人信息是您自行向社会公众公开的；
  </p>
 <p>
（3）所收集的个人信息系从合法公开披露的信息中收集，如合法的新闻报道，政府信息公开等渠道；
  </p>
 <p>
（4）与Ulord Foundation 的关联方共享，我们只会共享必要的用户信息，且受本隐私条款中所声明的目的的约束；
  </p>
 <p>
（5）根据适用的法律法规、法律程序的要求、行政机关或司法机关的要求进行提供；
  </p>
 <p>
（6）在涉及合并、收购时，如涉及到个人信息转让，Ulord Foundation 将要求个人信息接收方继续接受本政策的约束；
 </p>
 <p>
5. 我们如何保护您的信息
 </p>
 <p>
5.1 如Ulord Foundation 停止运营， Ulord Foundation 将及时停止继续收集您个人信息的活动，将停止运营的通知公告在 Usmart上，并对所持有的您的个人信息在合理期限内进行删除或匿名化处理。
  </p>
 <p>
5.2 为了保护您的个人信息，Ulord Foundation 将采取数据安全技术措施，提升内部合规水平，增加内部员工信息安全培训，并对相关数据设置安全访问权限等方式安全保护您的隐私信息。
  </p>
 <p>
5.3 我们将在Usmart“帮助中心”版块更新钱包使用及信息保护的资料，供您参考。
 </p>
 <p>
6. 对未成年人的保护
 </p>
 <p>
我们对保护未满18周岁的未成年人做出如下特别约定：
  </p>
 <p>
6.1 未成年人应当在监护人指导下使用Ulord Foundation 相关服务。
  </p>
 <p>
6.2 我们建议未成年人的父母和监护人应当在阅读本政策、《Usmart服务协议》及我们的其他有关规则的前提下，指导未成年人使用Usmart。
  </p>
 <p>
6.3 Usmart将根据国家相关法律法规的规定保护未成年人的个人信息的保密性及安全性。
 </p>
 <p>
7. 免责声明
 </p>
 <p>
7.1 请您注意，您通过Usmart接入第三方 DApp后，将适用该第三方DApp发布的隐私政策。该第三方 DApp 对您个人信息的收集和使用不为Ulord Foundation 所控制，也不受本政策的约束。Ulord Foundation 无法保证第三方DApp 一定会按照 Ulord Foundation 的要求采取个人信息保护措施。
  </p>
 <p>
7.2 您应审慎选择和使用第三方DApp，并妥善保护好您的个人信息， Ulord Foundation 对其他第三方DApp的隐私保护不负任何责任。
  </p>
 <p>
7.3 Ulord Foundation 将在现有技术水平条件下尽可能采取合理的安全措施来保护您的个人信息，以避免信息的泄露、篡改或者毁损。Ulord Foundation 系利用无线方式传输数据，因此， Ulord Foundation 无法确保通过无线网络传输数据的隐私性和安全性。
 </p>
 <p>
8. 法律适用及争议解决
 </p>
 <p>
8.1 本协议及其修订版之效力、解释、变更、执行与争议解决均适用新加坡法律，如无相关法律规定，则应当适用国际商业惯例和（或）行业惯例。
  </p>
 <p>
8.2 若您和Ulord Foundation之间发生任何纠纷或争议，首先应友好协商解决，协商不成的，任何一方可提交Ulord Foundation所在地有管辖权的法院管辖。
 </p>
 <p>
其他
</p>
 <p>
9.1 您需全面了解并遵守您所在司法辖区与使用Ulord Foundation 服务所有相关法律、法规及规则。
  </p>
 <p>
9.2 您在使用Ulord Foundation 服务过程中，如遇到任何有关个人信息使用的问题，您可以通过在 Usmart提交反馈等方式联系我们。
  </p>
 <p>
9.3 您可以在Usmart中查看本政策及 Ulord> Foundation 其他服务规则。我们鼓励您在每次访问Usmart时都查阅Ulord Foundation 的服务协议及隐私政策。
  </p>
 <p>
9.4 本政策的任何译文版本仅为方便用户而提供，无意对本政策的条款进行修改。如果本政策的中文版本与非中文版本之间存在冲突，应以中文版本为准。
  </p>
 <p>
9.5 本协议自2018年 05月18日起适用。
 </p>
 <p>
本政策未尽事宜，您需遵守Goopal 不时更新的公告及相关规则。
 </p>
Ulord Foundation
</div>
                </figure>
            </section>
            <section class="p20">
                <btn text="开始设置" :is-blue="true" v-on:clicked="stepToKeypair" margined="true"></btn>
                <btn text="跳过设置" :is-red="true" v-on:clicked="finished" margined="true"></btn>
            </section>
        </section>

        <section v-if="step == 1">
            <section class="white-bg">
                <figure class="title">导入密钥对</figure>
                <figure class="breaker"></figure>
                <figure class="description">
                    <!-- Scatter supports multiple blockchains. When you enter your Key Pair we will determine which
                    one you are using and set up your Identity for you. -->
                    Usmart 支持多种区块链
                </figure>
            </section>
            <section class="p20">

                <cin :placeholder="locale(langKeys.PLACEHOLDER_Name)" :text="keypair.name" v-on:changed="changed => bind(changed, 'keypair.name')"></cin>
                <cin :placeholder="locale(langKeys.PLACEHOLDER_PublicKey)" :disabled="true" :text="keypair.publicKey" v-on:changed="changed => bind(changed, 'keypair.publicKey')"></cin>
                <cin type="password" :placeholder="locale(langKeys.PLACEHOLDER_PrivateKey)" @changed="makePublicKey" :text="keypair.privateKey" v-on:changed="changed => bind(changed, 'keypair.privateKey')"></cin>

                <btn :text="`导入 ${keypair.blockchain.toUpperCase()} 密钥对`" v-on:clicked="saveKeyPair" :is-blue="true" margined="true"></btn>
                <btn text="稍后创建" :is-red="true" v-on:clicked="finished" margined="true"></btn>
            </section>
        </section>

        <section v-if="step == 2">
            <section class="white-bg">
                <figure class="title">太棒了!</figure>
                <figure class="breaker"></figure>
                <figure class="description">
                    <!-- You now have a Scatter Identity with an {{keypair.blockchain.toUpperCase()}} account linked to it.
                    <br><br>
                    You can go to your Identity and fill out any extra fields applications might want from you, but none of the fields in your
                    Identity are mandatory.
                    <br><br>
                    Enjoy using Scatter. -->
                    你已经建立了一个Usmart账户，现在可以开始了！
                </figure>
            </section>
            <section class="p20">
                <btn text="现在开始" :is-blue="true" v-on:clicked="finished" margined="true"></btn>
            </section>
        </section>



    </section>
</template>

<script>
    import { mapActions, mapGetters, mapState } from 'vuex'
    import * as Actions from '../store/constants';
    import {RouteNames} from '../vue/Routing'
    import KeyPair from '../models/KeyPair'
    import Network from '../models/Network'
    import Scatter from '../models/Scatter'
    import AlertMsg from '../models/alerts/AlertMsg'
    import IdentityService from '../services/IdentityService'
    import {BlockchainsArray, Blockchains} from '../models/Blockchains';
    import KeyPairService from '../services/KeyPairService'
    import AccountService from '../services/AccountService'

    export default {
        data(){ return {
            step:0,
            identity:null,
            keypair:KeyPair.fromJson({name:'初始密钥对'})
        }},
        computed: {
            ...mapState([
                'scatter'
            ]),
            ...mapGetters([
                'networks'
            ])
        },
        mounted(){
            this.identity = this.scatter.keychain.identities[0];
        },
        methods: {
            bind(changed, dotNotation) {
                let props = dotNotation.split(".");
                const lastKey = props.pop();
                props.reduce((obj,key)=> obj[key], this)[lastKey] = changed.trim();
            },
            stepToKeypair(){
                if(this.scatter.keychain.keypairs.length) this.step = 2;
                else this.step = 1;
            },
            async makePublicKey(){
                await KeyPairService.makePublicKey(this.keypair);
                if(!this.keypair.publicKey.length) return this[Actions.PUSH_ALERT](AlertMsg.InvalidPrivateKey());
            },
            async saveKeyPair(){
                if(!this.keypair.publicKey.length) return this[Actions.PUSH_ALERT](AlertMsg.InvalidPrivateKey());
                if(await this.importAccount()) KeyPairService.saveKeyPair(this.keypair, this, () => {
                    const scatter = this.scatter.clone();
                    scatter.keychain.updateOrPushIdentity(this.identity);
                    this[Actions.UPDATE_STORED_SCATTER](scatter).then(() => this.step++);
                })
            },
            async importAccount(){
                const selectedKeypair = this.keypair;
                const selectedNetwork = this.scatter.settings.networks.find(network => network.blockchain === selectedKeypair.blockchain);
                if(!selectedKeypair || !selectedKeypair.publicKey.length) return false;
                return await AccountService.importFromKey(selectedKeypair, selectedNetwork, this).then(imported => {
                    if(!imported.account) return false;
                    this.identity.setAccount(selectedNetwork, imported.account);
                    return true;
                }).catch(() => false);
            },
            finished(){
                const scatter = this.scatter.clone();
                scatter.meta.acceptedTerms = true;
                this[Actions.UPDATE_STORED_SCATTER](scatter).then(() => this.step++);
                this.$router.push({name:RouteNames.MAIN_MENU});
            },
            ...mapActions([
                Actions.UPDATE_STORED_SCATTER,
                Actions.PUSH_ALERT
            ])
        }
    }
</script>

<style lang="css">
::-webkit-scrollbar
{
    width: 6px;
    height: 6px;
}
::-webkit-scrollbar-track-piece
{
    background-color: #efefef;
    -webkit-border-radius: 6px;
}
::-webkit-scrollbar-thumb:vertical
{
    height: 5px;
    background-color: #dadada;
    -webkit-border-radius: 6px;
}
::-webkit-scrollbar-thumb:horizontal
{
    width: 5px;
    background-color: #dadada;
    -webkit-border-radius: 6px;
}

</style>